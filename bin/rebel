#!/usr/bin/env bash

echo "[Edge] Starting development environment, please waitâ€¦"

deps='{:deps {com.bhauman/rebel-readline {:mvn/version "0.1.4"}
              pro.juxt.edge/rebel.auto-dev {:local/root "../lib.rebel.auto-dev"}'

while :; do
    case $1 in
        --cljs)
	    deps="$deps"' com.bhauman/rebel-readline-cljs {:mvn/version "0.1.4"}'
            shift
            ;;
        --)
            shift
            break
            ;;
        -?*)
	    break
            ;;
        *)
            break
    esac
done

deps="${deps}}}"

clojure -Sdeps "$deps" "$@" -m edge.rebel.main
